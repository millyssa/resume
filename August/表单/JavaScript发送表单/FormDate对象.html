<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button type="button" onclick="sendData({test:'ok'})">点我！</button>

    <script>
        function sendData(data) {
            var XHR = new XMLHttpRequest();
            var FD = new FormData();

            // 把我们的数据添加到这个FormData对象中
            for (name in data) {
                FD.append(name, data[name]);
            }

            // 定义数据成功发送并返回后执行的操作
            XHR.addEventListener('load', function (event) {
                alert('Yeah! 已发送数据并加载响应。');
            });

            // 定义发生错误时执行的操作
            XHR.addEventListener('error', function (event) {
                alert('Oops! 出错了。');
            });

            // 设置请求地址和方法
            XHR.open('POST', 'https://example.com/cors.php');

            // 发送这个formData对象,HTTP请求头会自动设置
            XHR.send(FD);
        }
    </script>
</body>

</html>